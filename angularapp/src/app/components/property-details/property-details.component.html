
    <!-- <div *ngFor="let item of imagePaths">
        <img src="../../../../../springapp/src/main/resources/static/uploads/bandra.jpg" alt="">
    </div> -->

<div class="container">
    
    <div class="carousel-container">
        <div class="carousel-track">
          <img class="i1" *ngFor="let item of imagePaths; index as i" [src]="'../../../assets/uploads/'+item" alt="" (click)="openZoom(i)" />
        </div>
    </div>

    <div class="floatBtns">
        <div class="left">
            <button [routerLink]="['/user/viewProp']" id="backButton" >←</button>
        </div>
        <div class="right">
            <button (click)="onFeedback()">Feedback</button>
            <button (click)="sendBrochure()" id="download-btn">Send Brochure on Email</button>
        </div>
    </div>
    
    <div class="zoom-overlay" *ngIf="zoomActive">
        <div class="zoom-box">
        <button class="arrow left" (click)="prevImage()">&#10094;</button>
        <img [src]="'../../../assets/uploads/' + imagePaths[currentIndex]" alt="Zoomed" />
        <button class="arrow right" (click)="nextImage()">&#10095;</button>
        <button class="close-btn" (click)="closeZoom()">×</button>
        </div>
    </div>

    <div class="details">
        <div class="belowImage"> 
            <div class="detail-description">
                <div class="one">
                    <h1>{{property.title}}</h1>
                    <p>{{property.location}}</p>
                </div>
                <div class="two">
                    <h1>₹{{property.price}}</h1>
                    <ul>
                        <li>{{property.area}}sqft</li>
                        <li>{{property.bedroomCount}}BHK</li>
                    </ul>
                </div>
                <div class="buttons">
                    <button (click)="openPopup()" id="schedulebtn" >Schedule Tour</button>
                    <button (click)="showConfirmationPopup()" id="buybtn" >Buy</button>
                    <button (click)="onInquiry()">Inquiry</button>
                </div>
            </div>
        </div>

        <div *ngIf="showBuy" class="buy-popup-overlay">
            <div class="buy-popup-box">
              <h3>Introducing Our Property Blocking Feature</h3>
               <p>This feature allows you to reserve a property of interest by making a 
                nominal payment of <span style="color:green;">₹1000</span>. Upon successful payment, the property will be 
                exclusively blocked for a period of one week, during which it will not be 
                visible to other users.</p>
              <div class="popup-buttons">
                <button (click)="buyatsale()">Proceed</button>
                <button (click)="cancelPayment()">Cancel</button>
              </div>
            </div>
        </div>

        <div class="homeHighlights">
            <p>Home Highlights: </p>
            <div class="h1">
                <li>
                    Baths: <p>{{property.washroomCount}}</p>
                </li>
                <li>
                    No. of Balcony(s): <p>{{property.balconyCount}}</p> 
                </li>
            </div>
            <div class="h2">
                <li>
                    Parking area: <p>{{property.parkingArea}}sqft</p>
                </li>
                <li>
                    Nearest Hospital Distance: <p>{{property.hosptialDistance}}KM</p>
                </li>
            </div>
            <div class="h3">
                <li>
                    Nearest Railway Station Distance: <p>{{property.railwayStationDistance}}KM</p>
                </li>
                <li>
                    Nearest Airport Distance: <p>{{property.airportDistance}}KM</p>
                </li>
            </div>
        </div>

        <div class="description">
            <p class="label">Description:</p>
            <p class="text">{{property.description}}</p>
        </div>

        <div class="scheduleTour">
            <div *ngIf="showPopup" class="popup-overlay">
                <div class="popup-box">
                <h2>Schedule Tour</h2>
            
                <form [formGroup]="tourForm" (ngSubmit)="submitTour()">
                    <div class="date-options">
                        <button type="button" *ngFor="let date of ['2025-09-05', '2025-09-06', '2025-09-07', '2025-09-08']"
                                (click)="tourForm.patchValue({ tourDate: date })"
                                [class.selected]="tourForm.value.tourDate === date">
                                {{ date }}
                        </button>
                    </div>
                    <div class="date-options">
                        <button type="button"
                                *ngFor="let date of upcomingDates"
                                (click)="tourForm.patchValue({ tourDate: date })"
                                [class.selected]="tourForm.value.tourDate === date">
                        {{ date }}
                        </button>
                    </div> 
                
                    <select formControlName="tourTime">
                        <option value="">Select Time</option>
                        <option value="10:00 AM">10:00 AM</option>
                        <option value="11:00 AM">11:00 AM</option>
                        <option value="12:00 PM">12:00 PM</option>
                        <option value="02:00 PM">02:00 PM</option>
                    </select>
                
                    <input type="text" placeholder="Name" formControlName="name" />
                    <input type="text" placeholder="Phone" formControlName="phone" />
                    <input type="email" placeholder="Email" formControlName="email" />
                
                    <div class="popup-buttons">
                        <button type="submit">Schedule Tour</button>
                        <button class="cancel-button" type="button" (click)="closePopup()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div *ngIf="showInquiry" class="inquiry-overlay">
        <div class="content">
            <form (ngSubmit)="submitInquiry()">
                <div class="heading">
                  <h2>Submit Your Inquiry</h2>
                </div>
                <div class="group">
                    <label>Message:</label>
                    <textarea name="message" id="message" cols="30" rows="10" [(ngModel)]="inquiry.message" required  #messageField="ngModel"></textarea>
                    
                    <div *ngIf="messageField.invalid && messageField.touched" class="error">
                        Message is required.
                    </div>

                </div>
                    
                <div class="inquiry-buttons">
                    <button type="submit">Submit Inquiry</button>   
                    <button (click)="offInquiry()">Close</button> 
                </div>
            </form>
        </div>
    </div>

    <div *ngIf="showFeedback" class="popup-overlay">
        <div class="content">
            <form (ngSubmit)="submitFeedback()">
                <div class="heading">
                  <h2>Submit Your Feedback</h2>
                </div>
                <div class="group">
                    <label>Message:</label>
                    <textarea name="message" id="message" cols="30" rows="10" [(ngModel)]="feedback.feedbackText" required  #messageField="ngModel"></textarea>
                    
                    <div *ngIf="messageField.invalid && messageField.touched" class="error">
                        Message is required.
                    </div>

                </div>
                    
                <div class="inquiry-buttons">
                    <button type="submit">Submit Feedback</button>  
                    <button (click)="offFeedback()">Close</button>  
                </div>
            </form>
        </div>
    </div>
</div>
